<html>
    <head>
        <title>Web Player</title>

        <link rel="stylesheet" href="web-player.css" type="text/css">
        <script src="jquery.min.js" type="application/javascript"></script>
    </head>
    <body>
        <div id="header">
            <div id="logo">
                Web Player
            </div>
            <div id="buttonContainer">
                <div class="toggleButton active" id="html">
                    HTML
                </div>

                <div class="toggleButton" id="css">
                    CSS
                </div>

                <div class="toggleButton" id="javascript">
                    JavaScript
                </div>


                <div class="toggleButton active" id="output">
                    Output
                </div>

            </div>
        </div>
        <div id="bodyContainer">
            <textarea id="htmlPanel" class="panel"><p>Hello World</p></textarea>
            <textarea id="cssPanel" class="panel hidden">p{color:green}</textarea>
            <textarea id="javascriptPanel" class="panel hidden">alert("Its Working!");</textarea>
            <iframe id="outputPanel" class="panel"></iframe>

        </div>
    <script type="text/javascript">

        function updateOutput(){
            $("iframe").contents().find("html").html("<html><head><style type='text/css'>"+$("#cssPanel").val()+"</style></head><body>"+$("#htmlPanel").val()+"</body></html>");
            document.getElementById("outputPanel").contentWindow.eval($("#javascriptPanel").val());


        }
        $(".toggleButton").hover(function(){


            if($(this).css("background-color")=='rgb(238, 238, 238)'){

                $(this).css("background-color","#E5E5E5");
            }
            else if($(this).css("background-color")=='rgb(232, 242, 255)'){
                $(this).css("background-color","#B7DFFD");
            }



        },function(){
            if($(this).css("background-color")=='rgb(229, 229, 229)'){

                $(this).css("background-color","#EEEEEE");
            }
            else if($(this).css("background-color")=='rgb(183, 223, 253)'){
                $(this).css("background-color","#E8F2FF");
            }

        });
        $(".toggleButton").click(function(){
            if($(this).css("background-color")=='rgb(238, 238, 238)'||$(this).css("background-color")=='rgb(229, 229, 229)'){
                $(this).css("background-color","#E8F2FF");
            }
            else
            {
                $(this).css("background-color","#EEEEEE");
            }
            var panel=$(this).attr("id")+"Panel";
            $("#"+panel).toggleClass("hidden");
            $(".panel").width(($(window).width()/(4-$(".hidden").length))-10);
        });

        $(".panel").height($(window).height()-$("#header").height()-8);
        updateOutput();
        $("textarea").on('change keyup paste',function(){
            updateOutput();

        });
    </script>
    </body>
</html>
